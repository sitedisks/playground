<div class="container">
    <div id="badBrowser" class="row full-width he-yellow-bg he-sunkissed " style="display:none;">
        <div class="span12">
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://outdatedbrowser.com/en"
                    target="_blank" rel="noopener noreferrer">upgrade your browser</a> to improve your experience.</p>
        </div>
    </div>
    <script type="application/ld+json">
        {
            "@context": "http://schema.org/",
            "@type": "Person",
            "name": "Mrs Angel Chen",
            "image": "https://healthengine.imgix.net/photos/doctors/doc63613-20170412043549.jpg?auto=compress&ixlib=php-2.1.0&or=0",
            "gender": "Female",
            "address": {
                "@type": "PostalAddress",
                "addressLocality": "Brunswick",
                "addressRegion": "VIC",
                "postalCode": "3056",6
                "streetAddress": "Suite 3-4 / 200 Sydney Road"
            }
        }
    </script>
    <div class="practitioner-profile-header profile-header-wrapper banner-image">
        <div class="profile-header-banner default-image-chinese-medicine" style="background-image: url('https://healthengine.imgix.net/photos/grp_loc/?auto=compress&amp;h=170&amp;ixlib=php-2.1.0&amp;or=0')"></div>
        <div class="header-alpha"></div>
        <div class="profile-header practitioner-profile-header">
            <div class="practitioner-image" style="background-image: url('https://healthengine.imgix.net/photos/doctors/doc63613-20170412043549.jpg?auto=compress&amp;h=100&amp;ixlib=php-2.1.0&amp;or=0&amp;w=100');"></div>
            <div class="profile-header-content practitioner-content">
                <h1 class="practitioner-name" itemprop="name">Mrs Angel Chen</h1>
                <div class="practitioner-fav fav-side-outer fav-top"><span class="favourite nounderline favourite-explicit"
                        data-id="63613" data-type="practitioner" data-hasqtip="0"><span class="favourite-star">☆</span></span></div>
                <div class="header-banner-left practitioner-banner-left">
                    <div class="practitioner-info">
                        <p class="practitioner-info-text">
                            <span>Female Practitioner</span>
                        </p>
                        <p class="practitioner-addie">Suite 3-4 / 200 Sydney Road Brunswick, VIC 3056</p>
                    </div>
                </div>

                <div class="header-banner-right">
                    <div class="view-map">
                        <span id="view-map-link" data-coords="-37.77311,144.961321"> View on map</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mobile-header-details">
        <div class="practice-address">
            <span class="practice-address-text">
                Suite 3-4 / 200 Sydney Road, Brunswick, VIC 3056 </span>
        </div>
    </div>
    <div id="mobile-appts-area" style="">
        <div class="no-appointments-wrapper">
            <div class="no-appointments">
                <p class="he-border-btm">Appointments currently not published on HealthEngine's directory</p>
                <a href="/medical-centre/vic/brunswick/lotus-medical-centre/s46920?src=doctor#openAppts" class="notify-prac"
                    id="see-other-appointments">
                    See other Appointments at
                    <br>
                    Lotus Medical Centre </a>
            </div>
        </div>
    </div>

    <div id="mobile-apptBtn-bottom" class="show"></div>

    <div id="main" class="row" data-doctor-presenter="63613" data-profile-type="practitioner">

        <div class="content-wrapper">
            <div id="body">
                <div id="practice-description" class="clearfix" itemprop="description" style="border-top: 0px; margin-top: 0px; padding-top: 0px;">
                    <div class="description-content practitioner-description add-max-height">
                        <h2>Overview</h2>
                        <div class="description-content add-max-height">
                            <table border="0">
                                <tbody>
                                    <tr>
                                        <td>
                                            <p>Lotus Medical Centre is excited to announce the addition of a Chinese
                                                medicine practitioner to our team!</p>
                                            <p>Dr. Angel Qi Chen is a registered Acupuncturist and Chinese medicine
                                                practitioner. She gained her qualification from Endeavour College of
                                                Natural Health in a Bachelor of Health Science (Acupuncture).</p>
                                            <p>She completed several Clinical internships at Anshan Tiedong Bone
                                                Disease Hospital and First Clinical College of Liaoning University of
                                                Traditional Chinese Medicine in<br>Liaoning Province, China; both of
                                                which she spent extensive training in a clinical hospital setting
                                                advancing her skills.</p>
                                            <p>Dr. Chen was brought up in a family of established acupuncturist,
                                                Chinese herbalist and Qi Gong master, she has been exposure to the art
                                                of Chinese medicine since a young<br>child which led to inspire her to
                                                carry on the family legacy devoted to natural health and wellness.</p>
                                            <p>Dr. Chen uses Acupuncture and Chinese medicine to benefit a wide range
                                                of health conditions, including/but not exclusive to:<br>• Pain
                                                management<br>• Sports injuries<br>• Insomnia<br>• Emotional complaints<br>•
                                                Women’s health<br>• Male and female fertility<br>• Hair loss/alopecia<br>•
                                                Digestive conditions<br>• Weight loss<br>• Respiratory disorders<br>•
                                                Skin conditions<br>Appointments available from March 2017<br>To enquire
                                                about treatment with Dr. Angel Chen, please phone the clinic on
                                                93801588</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>&nbsp;</p>
                        </div>
                        <a href="javascript:;" class="more-area-btn">Read more</a>
                    </div>
                </div>

                <div id="qualifications-experience" class="clearfix" itemprop="qualifications">
                    <h2>Qualifications and Experience</h2>
                    <div class="qualifications-experience-contain">
                        <div class="languages one-half">
                            <h3>Languages spoken</h3>
                            <ul>
                                <li>English</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <a id="practice-contact-anchor" name="practice-contact-anchor"></a>
                <div id="contact-info" class="practice-information clearfix">
                    <h2 class="profile-gallery-title">Practice Information</h2>

                    <div class="practice-information-contain">

                        <div class="basic-details one-third">
                            <h3>Contact details</h3>
                            <ul class="phone-container-practice">
                                <li class="practice-name">
                                    <a href="/medical-centre/vic/brunswick/lotus-medical-centre/s46920?src=doctor"
                                        itemprop="name">Lotus Medical Centre</a>
                                </li>
                                <li class="address"><span>
                                        Suite 3-4 / 200 Sydney Road<br>
                                        Brunswick, VIC 3056 </span></li>

                                <li class="phone phone-container" data-id="63613">
                                    <span class="track-practitioner-num-wrap-noappt" data-tel="(03)&nbsp;9380&nbsp;1588">
                                        (03)&nbsp;9380&nbsp;1... </span>
                                </li>


                                <li class="fax phone-container" data-id="63613">
                                    <span class="track-practitioner-num-wrap-noappt" data-tel="(03)&nbsp;9380&nbsp;2844">
                                        (03)&nbsp;9380&nbsp;2... </span>
                                </li>
                                <li class="url-info"><span>
                                        <a href="https://healthengine.com.au/outbound-links/?link=www.lotusmedicalcentre.com.au+&amp;expiry=1550188048&amp;signature=e6ba3f97a464c792c2ea49902689c92a9efb2585e68eb5f7739c9f382bcab17d2a035f108f3948ad5ce9a93b3fafb506bdc11375ac0ec2b61d337d5f1ee98bc6"
                                            target="_blank" id="practice-link" rel="noopener noreferrer">www.lotusmedicalcentre.com.au
                                        </a>
                                    </span></li>
                            </ul>
                        </div>
                        <div class="opening-hours one-third">
                            <h3>Opening hours</h3>
                            <dl>
                                <dt>Monday:</dt>
                                <dd>09:00am - 07:00pm</dd>
                                <dt>Tuesday:</dt>
                                <dd>09:00am - 07:00pm</dd>
                                <dt>Wednesday:</dt>
                                <dd>09:00am - 07:00pm</dd>
                                <dt><strong style="font-weight:bold;">Thursday</strong>:</dt>
                                <dd><strong style="font-weight:bold;">09:00am - 07:00pm</strong></dd>
                                <dt>Friday:</dt>
                                <dd>09:00am - 07:00pm</dd>
                                <dt>Saturday:</dt>
                                <dd>09:00am - 02:00pm</dd>
                                <dt>Sunday:</dt>
                                <dd>Closed</dd>
                                <dt>Public Holidays:</dt>
                                <dd>Closed</dd>
                                <div></div>
                            </dl>
                        </div>



                        <div class="accreditation one-third">
                            <h3>Accreditation</h3>
                            <div class="accreditation-item">
                                <img alt="Australian General Practice Accreditation Limited Logo" class="accreditation-logo"
                                    src="https://healthengine.imgix.net/public/images/AGPAL_Logo_20180920030902.svg?auto=compress&amp;ixlib=php-2.1.0&amp;or=0">
                                <p>Australian General Practice Accreditation Limited</p>
                            </div>
                        </div>


                    </div>

                </div>
                <div class="practice-map-contain practitioner-map clearfix">
                    <h3>Find Lotus Medical Centre</h3>
                    <span class="close-icon"></span>
                    <div id="dynamic_google_map" style="height: 350px;">
                        <a class="map-links" href="/new/map.php?lat=-37.7731100&amp;long=144.9613210" title="Suite 3-4 / 200 Sydney Road, Brunswick, VIC 3056">
                            <img class="static_google_map" alt="Show map of Suite 3-4 / 200 Sydney Road, Brunswick, VIC 3056"
                                src="//maps.googleapis.com/maps/api/staticmap?center=-37.7731100,144.9613210&amp;markers=icon:http://healthengine.com.au/images/map-marker-larger.png|-37.7731100,144.9613210&amp;zoom=15&amp;size=728x350&amp;sensor=false&amp;visual_refresh=true&amp;key=AIzaSyB0I7hCmp6_hwCSETppt910-eHXKsJ9EVo">
                        </a>
                    </div>
                    <script type="text/javascript">
                        $(function () {
                            var imgsrc = null;

                            function initMap() {
                                $('#dynamic_google_map').each(function () {
                                    var $this = $(this);
                                    $this.height(350);
                                });
                                var size = $('#dynamic_google_map').width() + 'x' + $('#dynamic_google_map').height();
                                imgsrc =
                                    "//maps.googleapis.com/maps/api/staticmap?center=-37.7731100,144.9613210&markers=icon:http://healthengine.com.au/images/map-marker-larger.png|-37.7731100,144.9613210&zoom=15&size=" +
                                    size +
                                    "&sensor=false&visual_refresh=true&key=AIzaSyB0I7hCmp6_hwCSETppt910-eHXKsJ9EVo";
                            }

                            // lazy load map (only set src when scrolled into view)
                            $(window).scroll(function () {
                                var docViewTop = $(window).scrollTop();
                                var docViewBottom = docViewTop + $(window).height();
                                $('.static_google_map').each(function () {
                                    var elemTop = $(this).offset().top;
                                    if (docViewBottom > elemTop) {
                                        $(this).attr('src', imgsrc);
                                    }
                                });
                            });

                            window.onresize = initMap;
                            initMap();

                            $("a.map-links").fancybox({
                                helpers: {
                                    overlay: {
                                        locked: false
                                    }
                                },
                                'autoDimensions': true,
                                'centerOnScroll': true,
                                'overlayShow': true,
                                'type': 'ajax'
                            });
                        });
                    </script>
                </div>

                <div class="hide">
                    <script src="//d2g92a8pyizotc.cloudfront.net/js/bootstrap-datepicker.js?v=20190213064305"></script>
                    <div id="appointment_lightbox" class="prac-appt-lightbox picker">
                        <div class="close">close</div>
                        <div id="mobile-fixed-top-bar" class="hide" style="display: none;">
                            <select id="appt_location_select_mobile"></select>
                            <select id="appt_specialty_select_mobile">
                            </select>
                            <a href="#"><span class="visual-hide">select date</span><span class="date-select fontastic-calendar-1"></span></a>
                        </div>

                        <div class="picker-controls">
                            <div class="picker-controls-mobile-close fontastic-x"></div>
                            <div class="picker-controls-title">
                                <h2>Online booking</h2>
                            </div>
                            <div class="picker-controls-filters">
                                <div class="filter-calendar-button hide" style="display: none;">
                                    <h3>Show a specific date:</h3>
                                    <button><span class="fontastic-calendar-1"> <span class="date-button">2nd September
                                                2014</span></span></button>
                                </div>
                                <div class="filter-calendar">
                                    <!-- <h3>Show this day:</h3> -->
                                    <div class="datewidget">
                                        <div class="datepicker datepicker-inline">
                                            <div class="datepicker-days" style="display: block;">
                                                <table class=" table-condensed">
                                                    <thead>
                                                        <tr>
                                                            <th class="prev" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-left"></i></th>
                                                            <th colspan="5">February 2019</th>
                                                            <th class="next" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-right"></i></th>
                                                        </tr>
                                                        <tr>
                                                            <th class="dow">Su</th>
                                                            <th class="dow">Mo</th>
                                                            <th class="dow">Tu</th>
                                                            <th class="dow">We</th>
                                                            <th class="dow">Th</th>
                                                            <th class="dow">Fr</th>
                                                            <th class="dow">Sa</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="day old disabled no-bookings">27</td>
                                                            <td class="day old disabled no-bookings">28</td>
                                                            <td class="day old disabled no-bookings">29</td>
                                                            <td class="day old disabled no-bookings">30</td>
                                                            <td class="day old disabled no-bookings">31</td>
                                                            <td class="day disabled no-bookings">1</td>
                                                            <td class="day disabled no-bookings">2</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="day disabled no-bookings">3</td>
                                                            <td class="day disabled no-bookings">4</td>
                                                            <td class="day disabled no-bookings">5</td>
                                                            <td class="day disabled no-bookings">6</td>
                                                            <td class="day disabled no-bookings">7</td>
                                                            <td class="day disabled no-bookings">8</td>
                                                            <td class="day disabled no-bookings">9</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="day disabled no-bookings">10</td>
                                                            <td class="day disabled no-bookings">11</td>
                                                            <td class="day disabled no-bookings">12</td>
                                                            <td class="day disabled no-bookings">13</td>
                                                            <td class="day active disabled no-bookings">14</td>
                                                            <td class="day disabled no-bookings">15</td>
                                                            <td class="day disabled no-bookings">16</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="day disabled no-bookings">17</td>
                                                            <td class="day disabled no-bookings">18</td>
                                                            <td class="day disabled no-bookings">19</td>
                                                            <td class="day disabled no-bookings">20</td>
                                                            <td class="day disabled no-bookings">21</td>
                                                            <td class="day disabled no-bookings">22</td>
                                                            <td class="day disabled no-bookings">23</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="day disabled no-bookings">24</td>
                                                            <td class="day disabled no-bookings">25</td>
                                                            <td class="day disabled no-bookings">26</td>
                                                            <td class="day disabled no-bookings">27</td>
                                                            <td class="day disabled no-bookings">28</td>
                                                            <td class="day new disabled no-bookings">1</td>
                                                            <td class="day new disabled no-bookings">2</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="day new disabled no-bookings">3</td>
                                                            <td class="day new disabled no-bookings">4</td>
                                                            <td class="day new disabled no-bookings">5</td>
                                                            <td class="day new disabled no-bookings">6</td>
                                                            <td class="day new disabled no-bookings">7</td>
                                                            <td class="day new disabled no-bookings">8</td>
                                                            <td class="day new disabled no-bookings">9</td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th colspan="7" class="today">Jump to today</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="datepicker-months" style="display: none;">
                                                <table class="table-condensed">
                                                    <thead>
                                                        <tr>
                                                            <th class="prev" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-left"></i></th>
                                                            <th colspan="5">2019</th>
                                                            <th class="next" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-right"></i></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td colspan="7"><span class="month disabled">Jan</span><span
                                                                    class="month active">Feb</span><span class="month disabled">Mar</span><span
                                                                    class="month disabled">Apr</span><span class="month disabled">May</span><span
                                                                    class="month disabled">Jun</span><span class="month disabled">Jul</span><span
                                                                    class="month disabled">Aug</span><span class="month disabled">Sep</span><span
                                                                    class="month disabled">Oct</span><span class="month disabled">Nov</span><span
                                                                    class="month disabled">Dec</span></td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th colspan="7" class="today">Jump to today</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="datepicker-years" style="display: none;">
                                                <table class="table-condensed">
                                                    <thead>
                                                        <tr>
                                                            <th class="prev" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-left"></i></th>
                                                            <th colspan="5">2010-2019</th>
                                                            <th class="next" style="visibility: hidden;"><i class="glyphicon glyphicon-chevron-right"></i></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td colspan="7"><span class="year old disabled">2009</span><span
                                                                    class="year disabled">2010</span><span class="year disabled">2011</span><span
                                                                    class="year disabled">2012</span><span class="year disabled">2013</span><span
                                                                    class="year disabled">2014</span><span class="year disabled">2015</span><span
                                                                    class="year disabled">2016</span><span class="year disabled">2017</span><span
                                                                    class="year disabled">2018</span><span class="year active">2019</span><span
                                                                    class="year old disabled">2020</span></td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th colspan="7" class="today">Jump to today</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="filter-specialty">
                                    <h3>Show this specialty:</h3>
                                    <select id="appt_specialty_select">
                                    </select>
                                </div>
                                <input type="hidden" id="appt_specialty_select" value="">

                                <div class="filter-location">
                                    <h3>Show appointments at:</h3>
                                    <div class="filter-location-group">
                                        <h4>Select a location:</h4>
                                        <div class="location-wrapper">
                                            <div class="filter-location-profile" data-location="46920">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="picker-controls-show-appointments-bar hide">
                                <div class="picker-controls-show-appointments-button">Show Appointments</div>
                            </div>
                        </div>


                        <div class="filter-results-bar windows-overlap">

                            <div class="filter-results-inner">
                                <div class="filter-option" id="filter-option-specialty">
                                    <div class="filter-label">Show times for</div>

                                    <div class="filter-select-wrap" data-relselect="appt_specialty_select">
                                        <div class="selected-filter-option">
                                        </div>
                                        <ul class="filter-select-options">
                                        </ul>
                                    </div>

                                    <div class="filter-specialty">
                                        <select id="appt_specialty_select">

                                        </select>
                                    </div>
                                </div>

                                <div class="filter-option" id="filter-option-location">
                                    <div class="filter-label">Show appointments at</div>
                                    <div class="filter-select-wrap" data-relselect="appt_location_select_mobile">
                                        <div class="selected-filter-option">
                                            <div class="filter-location-name filter-location-profile">Brunswick - Lotus
                                                Medical Centre</div>
                                        </div>
                                        <ul class="filter-select-options filter-select-location">
                                            <li data-val="46920" class="selected">
                                                <div class="filter-location-name filter-location-profile">Brunswick -
                                                    Lotus Medical Centre</div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="filter-location-select-overlay hide">
                                    <div class="group-wrapper">
                                        <h3>Choose a Location <span class="location-select-close fontastic-x"></span></h3>
                                        <div data-location="46920" class="filter-location-profile">
                                            <h5>Lotus Medical Centre</h5>
                                            <a href="#">Brunswick, 3056, VIC</a>
                                            <span class="fontastic-chevron-right"></span>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="picker-results"></div>
                        <div class="scroll-overlay bottom" style="overflow: hidden; bottom: -50px; height: 0px; padding: 0px;"><span
                                class="icon-white icon-chevron-down"></span> More Appointments <span class="icon-white icon-chevron-down"></span></div>
                    </div>

                    <script type="text/javascript">
                        function fancyboxApptShow() {
                            var height = $('.row-fluid.appt-box').height();
                            var scrollHeight = $('.row-fluid.appt-box').prop('scrollHeight');
                            if (scrollHeight > height) {
                                $('.row-fluid.appt-box-show-more').show();
                            } else {
                                $('.row-fluid.appt-box-show-more').hide();
                            }
                        }

                        $(function () {

                            var mobileMode = false;

                            var escapeHTML = (function () {
                                var chr = {
                                    '"': '&quot;',
                                    '&': '&amp;',
                                    '<': '&lt;',
                                    '>': '&gt;'
                                };
                                return function (text) {
                                    return text.replace(/[\"&<>]/g, function (a) {
                                        return chr[a];
                                    });
                                };
                            }());

                            // function wrapper for data...
                            var doctor_data = {
                                "stats": {
                                    "total": 0
                                },
                                "practices": []
                            };

                            // Detect windows to resolve scrollbar overlap
                            var isWin = navigator.platform.toUpperCase().indexOf('WIN') >= 0;
                            if (isWin) {
                                $('#appointment_lightbox .filter-results-bar').addClass('windows-overlap');
                            }

                            var specialty_locations = [];

                            var appt_url = (function () {
                                return $(document.body).hasClass('he-webplugin') ? function (loc,
                                    specialty, doctor, date, time) {
                                    var timestr = ('0' + Math.floor(time / 3600)).slice(-2) + '' +
                                        ('0' + Math.floor((time % 3600) / 60)).slice(-2);
                                    return 'https://healthengine.com.au/appointment/book_widget/' +
                                        loc + '/' + specialty + '/' + date + 'T' + timestr +
                                        '/?practitioner=' + doctor +
                                        '&amp;source=practitioner-lightbox';
                                } : function (loc, specialty, doctor, date, time) {
                                    var timestr = ('0' + Math.floor(time / 3600)).slice(-2) + '' +
                                        ('0' + Math.floor((time % 3600) / 60)).slice(-2);
                                    return 'https://healthengine.com.au/appointment/book/' + loc +
                                        '/' + specialty + '/' + date + 'T' + timestr +
                                        '/?practitioner=' + doctor +
                                        '&amp;source=practitioner-lightbox';
                                };
                            })();

                            var humantime = function (time) {
                                var am = true;
                                var hours = Math.floor(time / 3600);
                                if (hours >= 12) {
                                    am = false;
                                    if (hours > 12) hours -= 12;
                                }
                                var mins = Math.floor((time % 3600) / 60);
                                return hours + ':' + (mins < 9 ? '0' : '') + mins + (am ? "am" : "pm");
                            }

                            var dateformat = function (d) {
                                //var d = new Date(date);
                                return [
                                    ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][d.getUTCDay()],
                                    d.getUTCDate(),
                                    ["January", "February", "March", "April", "May", "June", "July",
                                        "August", "September", "October", "November", "December"
                                    ][d.getUTCMonth()]
                                ];
                            }

                            // calendar widget
                            var startDate = new Date();
                            startDate.setHours(0);
                            startDate = new Date(Date.UTC(startDate.getFullYear(), startDate.getMonth(),
                                startDate.getDate(), 0, 0, 0, 0));
                            var endDate = new Date();


                            var firstApptDate = new Date();
                            firstApptDate = new Date(Date.UTC(firstApptDate.getFullYear(), firstApptDate.getMonth(),
                                firstApptDate.getDate(), 0, 0, 0, 0));

                            var loadedMonth = new Date(2019, 3 - 1, 1, 0, 0, 0, 0);
                            loadedMonth = new Date(Date.UTC(loadedMonth.getFullYear(), loadedMonth.getMonth(),
                                1, 0, 0, 0, 0));

                            var queueProcess = false;

                            var blockForm = false;
                            var blockData = {};

                            $('.datewidget').datepicker({
                                startDate: startDate,
                                endDate: endDate,
                                todayBtn: 'linked',
                                maxViewMode: 0,
                                extraDateClass: function (dt) {
                                    var dtstring = dt.getUTCFullYear() + '-' + (dt.getUTCMonth() <
                                        9 ? '0' : '') + (dt.getUTCMonth() + 1) + '-' + (dt.getUTCDate() <
                                        10 ? '0' : '') + (dt.getUTCDate());
                                    var ret = false;
                                    if (current_location &&
                                        current_location in doctor_data.practices &&
                                        current_specialty in doctor_data.practices[current_location]
                                        .appts) {
                                        $.each(doctor_data.practices[current_location].appts[
                                            current_specialty].doctors, function (idx,
                                            dates) {
                                            if (dtstring in dates.dates) {
                                                ret = true;
                                                return false;
                                            }
                                        })
                                    }
                                    return ret ? '' : 'no-bookings';
                                }
                            }).on('changeDate', function (e) {
                                var dt = e.date;
                                $('.filter-calendar-button button span.date-button').html($(
                                    '.datewidget').datepicker('getFormattedDate', 'd MM yyyy'));
                                $(document).trigger('click.hide_calendar');
                                if (blockForm) {
                                    blockData.date = dt;
                                    return;
                                }

                                //console.log("Change Date", e.date.getUTCDate(), e.date.getUTCMonth(), e.date.getUTCFullYear());
                                $('#appointment_lightbox').trigger('scroll-to-date', [dt]);

                            }).on('changeMonth', function (e) {

                                //console.log("Change Month", e.date.getUTCMonth(), e.date.getUTCFullYear());

                                var newmonth = e.date;

                                if (e.navMode == 'arrows') {
                                    var firstofmonth = new Date(newmonth.getTime());
                                    firstofmonth.setUTCDate(1);
                                    if (firstofmonth <= startDate) {
                                        firstofmonth = new Date(startDate.getTime());
                                        firstofmonth.setUTCDate(firstofmonth.getUTCDate() + 1);
                                    }
                                    if (firstofmonth < endDate) {
                                        if (blockForm) {
                                            blockData.date = firstofmonth;
                                        } else {
                                            setCalendarDate(firstofmonth);
                                            $('#appointment_lightbox').trigger('scroll-to-date', [
                                                firstofmonth, true
                                            ]);
                                        }
                                    }
                                }

                                // if month later than last loaded month... load more month data...
                                if (newmonth >= loadedMonth && newmonth <= endDate) {
                                    loadedMonth = new Date(newmonth.getTime());
                                    loadedMonth.setUTCDate(1);
                                    loadedMonth.setUTCMonth(loadedMonth.getUTCMonth() + 1);
                                    var argMonth = new Date(loadedMonth.getTime());
                                    // load new appointments...
                                    var queuesize = $(document).queue("loadMonthData").length;
                                    $(document).queue("loadMonthData", function (next) {
                                        queueProcess = true;
                                        $.getJSON('/public/practitioner/appointments_json.php', {
                                            'doctor': 63613,
                                            'month': argMonth.getUTCMonth() + 1,
                                            'year': argMonth.getUTCFullYear(),
                                            'widget': $(document.body).hasClass(
                                                'he-webplugin') ? 1 : 0
                                        }).done(function (data) {
                                            $(document).trigger('loaded-data', [0, true,
                                                argMonth
                                            ]);
                                            queueProcess = false;
                                            next();
                                        });
                                    });
                                    if (!queueProcess) $(document).dequeue("loadMonthData", loadedMonth);
                                }
                            });

                            // build appointments div...
                            function buildAppointments(start, finish, append) {
                                if (!current_specialty) {
                                    current_specialty = $('#appt_specialty_select').val() || 'General Practice';
                                }

                                var td = new Date();
                                td = new Date(Date.UTC(td.getFullYear(), td.getMonth(), td.getDate(), 0, 0, 0,
                                    0));

                                var today = td.getTime();
                                var tomorrow = today + (24 * 3600 * 1000);

                                var dt = start || td;

                                if (dt > endDate) return; // no op...

                                var maxdate = finish || new Date(loadedMonth.getTime());
                                maxdate.setUTCMonth(maxdate.getUTCMonth() + 1);

                                var resdiv = $('<div class="picker-results"></div>');
                                var appointment_index = 0;

                                var first_empty_header = null;
                                var first_empty_date = null;
                                do {
                                    var dtstring = dt.getUTCFullYear() + '-' + (dt.getUTCMonth() < 9 ? '0' : '') +
                                        (dt.getUTCMonth() + 1) + '-' + (dt.getUTCDate() < 10 ? '0' : '') + (dt.getUTCDate());
                                    // create date...
                                    var datetitle = "";
                                    if (dt.getTime() == today) datetitle = 'Today';
                                    if (dt.getTime() == tomorrow) datetitle = 'Tomorrow';
                                    var datediv = $('<div class="picker-results-day clearfix" id="picker-date-' +
                                        dtstring + '"></div>');
                                    var dateparts = dateformat(dt);
                                    if (datetitle == 'Today' || datetitle == 'Tomorrow') {
                                        var dateheader = $(
                                            '<div class="picker-results-date"><h3><span class="date-dow">' +
                                            datetitle + '</span></h3></div>');
                                    } else {
                                        dateheader = $(
                                            '<div class="picker-results-date"><h3><span class="date-dow">' +
                                            dateparts[0] + '</span> <span class="date-day">' + dateparts[1] +
                                            '</span> <span class="date-mth">' + dateparts[2] + '</span>' +
                                            (datetitle ? ' <span class="date-title">' + datetitle +
                                                '</span>' : '') + '</h3></div>');
                                    }
                                    dateheader.appendTo(datediv);
                                    var apptdiv = $('<div class="picker-results-segments"></div>');
                                    var apptsegmentmorning = $(
                                        '<div class="picker-results-segment day-morning"><span class="segment-icon">K</span></div>'
                                    );
                                    var apptsegmentafternoon = $(
                                        '<div class="picker-results-segment day-afternoon"><span class="segment-icon">I</span></div>'
                                    );
                                    var apptsegmentevening = $(
                                        '<div class="picker-results-segment day-evening"><span class="segment-icon">J</span></div>'
                                    );

                                    var apptCounter = 0;
                                    $.each(doctor_data.practices, function (loc) {
                                        loc = parseInt(loc);
                                        if (current_location != 0 && current_location != loc) return true;
                                        if (!(current_specialty in doctor_data.practices[loc].appts))
                                            return true;
                                        $.each(doctor_data.practices[loc].appts[current_specialty].doctors,
                                            function (docid, dates) {
                                                if (!(dtstring in dates.dates)) return true;
                                                $.each(dates.dates[dtstring], function (idx, appt) {

                                                    if (appointment_index == 0) {
                                                        var datediv_next = $(
                                                            '<div class="picker-results-day clearfix" id="picker-date-next-avail"></div>'
                                                        );
                                                        var dateheader_next = $(
                                                            '<div class="picker-results-date"><h3><span class="date-dow">Next available</span></h3></div>'
                                                        );
                                                        dateheader_next.appendTo(
                                                            datediv_next);
                                                        var apptdiv_next = $(
                                                            '<div class="picker-results-segments"></div>'
                                                        );
                                                        var datestring = (datetitle ==
                                                            'Today' || datetitle ==
                                                            'Tomorrow') ? datetitle : (
                                                            dateparts[1] + ' ' +
                                                            dateparts[2]);
                                                        apptdiv_next.append(
                                                            '<div class="picker-results-segment"><a style="width: 160px;" href="' +
                                                            appt_url(loc,
                                                                current_specialty,
                                                                docid, dtstring, appt.time
                                                            ) +
                                                            '" class="apptTimeBtn">' +
                                                            datestring + ' ' +
                                                            humantime(appt.time) +
                                                            '</a></div>')

                                                        apptdiv_next.appendTo(datediv_next);
                                                        resdiv.prepend(datediv_next);
                                                        appointment_index++;
                                                    }


                                                    var apptli =
                                                        '<a class="apptTimeBtn" href="' +
                                                        appt_url(loc, current_specialty,
                                                            docid, dtstring, appt.time) +
                                                        '">' + humantime(appt.time) +
                                                        '</a>';
                                                    if (appt.time < 43200) { // 12pm
                                                        apptCounter++;
                                                        apptsegmentmorning.append(apptli);
                                                    } else if (appt.time < 64800) { // 6pm
                                                        apptCounter++;
                                                        apptsegmentafternoon.append(apptli);
                                                    } else {
                                                        apptCounter++;
                                                        apptsegmentevening.append(apptli);
                                                    }
                                                });
                                                first_empty_header = null;
                                                first_empty_date = null;
                                            });
                                        if (apptCounter == 0) {
                                            if (first_empty_header == null) {
                                                // first empty header, just record it
                                                datediv.addClass('no-appts').append(
                                                    '<p>There are no appointments available online for the selected practitioner on this day.</p>'
                                                );
                                                first_empty_header = datediv;
                                            } else {
                                                datediv.addClass('no-appts').append(
                                                    '<p>There are no appointments available online for the selected practitioner on these days.</p>'
                                                );
                                                // lets remove the last header, merge their date with ours
                                                if (first_empty_date == null) {
                                                    first_empty_date = first_empty_header.find('h3').contents();
                                                }

                                                first_empty_header.remove();
                                                first_empty_header = datediv;
                                                datediv.find('h3').prepend(
                                                    '<span class="date-spacer"> - </span>');
                                                datediv.find('h3').prepend(first_empty_date);
                                            }
                                        }
                                    });

                                    if (apptsegmentmorning.find('a').length > 0) apptsegmentmorning.appendTo(
                                        apptdiv);
                                    if (apptsegmentafternoon.find('a').length > 0) apptsegmentafternoon.appendTo(
                                        apptdiv);
                                    if (apptsegmentevening.find('a').length > 0) apptsegmentevening.appendTo(
                                        apptdiv);
                                    apptdiv.appendTo(datediv);
                                    resdiv.append(datediv);
                                } while (dt.setUTCDate(dt.getUTCDate() + 1) && dt < endDate && dt < maxdate);
                                if (append) {
                                    $('.picker-results').append(resdiv.html());
                                } else {
                                    $('.picker-results').replaceWith(resdiv);
                                }
                            }

                            var current_specialty, current_location = 0;

                            // reload appointments being displayed...
                            $(document).on('change-location change-specialty loaded-data', function (e, arg,
                                append, month) {
                                var current_date = getCalendarDate();
                                prevent_scroll_callbacks = true;
                                current_specialty = $('#appt_specialty_select').val();
                                current_location = $('.location-wrapper .filter-location-profile').data(
                                    'location') || 0;

                                $('.picker-results .fixed-header, .scroll-overlay.bottom').width($(
                                    '.picker-results .picker-results-day:first').width());
                                if ($('.picker-results').prop('scrollHeight') - FIXED_TOP_HEIGHT > $(
                                        '.picker-results').height() + $('.picker-results').scrollTop() +
                                    50) {
                                    $('.scroll-overlay.bottom').clearQueue().animate({
                                        'bottom': 0
                                    });
                                } else {
                                    $('.scroll-overlay.bottom').clearQueue().animate({
                                        'bottom': -50
                                    });
                                }

                                if (current_specialty != $('.picker-results').data('specialty') ||
                                    current_location != $('.picker-results').data('location') || append
                                ) {
                                    if (!append) $('.picker-results').empty();
                                    //console.log("running", current_specialty, current_location, append?"append":"no-append");
                                    $('.picker-results').data('specialty', current_specialty).data(
                                        'location', current_location);
                                    buildAppointments(month ? new Date(month.getTime()) : null, month ?
                                        new Date(month.getTime()) : null, append);
                                    $('#appointment_lightbox').trigger('scroll-to-date', [append ?
                                        getCalendarDate() : current_date, true
                                    ]);
                                    prevent_scroll_callbacks = false;
                                    $('.picker-results').trigger('scroll', [true]);
                                    $('.datewidget').datepicker('fill');

                                    $('.picker-results .fixed-header, .scroll-overlay.bottom').width($(
                                        '.picker-results .picker-results-day:first').width());
                                    if ($('.picker-results').prop('scrollHeight') > $('.picker-results')
                                        .height() + $('.picker-results').scrollTop() + 50) {
                                        $('.scroll-overlay.bottom').clearQueue().animate({
                                            'height': 32,
                                            'padding': 5
                                        });
                                    } else {
                                        $('.scroll-overlay.bottom').clearQueue().animate({
                                            'height': 0,
                                            'padding': 0
                                        });
                                    }
                                }
                            });

                            $(document).on('change-specialty', function (e, selval) {
                                if (selval in specialty_locations) {

                                    var currentval = $('#appt_location_select_mobile').val();
                                    var totalLocations = specialty_locations[selval].length - 1 +
                                        ' available';
                                    $('#appt_location_select_mobile').empty().prop('selectedIndex', 0);
                                    $('#filter-option-location li').removeClass("selection-show");
                                    $.each(specialty_locations[selval], function (idx, elem) {
                                        $('<option></option>').attr('value', elem.value).html(
                                            elem.label).appendTo(
                                            '#appt_location_select_mobile');
                                        if (elem.value == currentval) {
                                            $('#appt_location_select_mobile').val(currentval);
                                        }
                                        $('#filter-option-location li[data-val="' + elem.value +
                                            '"]').addClass("selection-show");
                                    });

                                    // run prac change event
                                    $('#appt_location_select_mobile').change();

                                } else {
                                    $('#appt_location_select_mobile').empty().prop('selectedIndex', 0).change();
                                }

                                if (selval && selval.length > 0) {
                                    // Update custom specialty box - applies to both Specialty AND procedure
                                    $('#filter-option-specialty .selected-filter-option').html($(
                                        '#filter-option-specialty li[data-val="' + selval +
                                        '"]').html());
                                    $('#filter-option-specialty li').removeClass('selected');
                                    $('#filter-option-specialty li[data-val="' + selval + '"]').addClass(
                                        'selected');
                                };
                            });

                            $(document).on('change-location', function (e, arg) {
                                current_location = $('.location-wrapper .filter-location-profile').data(
                                    'location') || 0;
                                $('#appt_location_select_mobile').val(current_location);

                                //console.log(current_location);

                                // Update custom select box
                                if (!current_location == 0) {
                                    $('#filter-option-location .selected-filter-option').html($(
                                        '#filter-option-location li[data-val="' +
                                        current_location + '"] > .filter-location-profile').clone());
                                    $('#filter-option-location li').removeClass('selected');
                                    $('#filter-option-location li[data-val="' + current_location + '"]')
                                        .addClass('selected');
                                }
                            });

                            // click on date and scroll to it...
                            var prevent_scroll_callbacks = false;

                            // global function to get currently selected date
                            function getCalendarDate() {
                                return $('.datewidget').datepicker('getUTCDate');
                            }

                            // global function to set currently selected date
                            function setCalendarDate(newdt) {
                                if (!(newdt instanceof Date)) {
                                    newdt = newdt + '';
                                    var match = newdt.match(/([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])/);
                                    if (match) {
                                        newdt = new Date(Date.UTC.apply(Date, [parseInt(match[1], 10), parseInt(
                                            match[2], 10) - 1, parseInt(match[3], 10)]));
                                    } else {
                                        return;
                                    }
                                }
                                var current = $('.datewidget').datepicker('getUTCDate');
                                if (newdt && newdt.getTime && (!current || newdt.getTime() !== current.getTime())) {
                                    $('.datewidget').datepicker('gotoDate', newdt);
                                    if (newdt.getUTCMonth() != current.getUTCMonth() || newdt.getUTCFullYear() !=
                                        current.getUTCFullYear()) {
                                        $('.datewidget').trigger({
                                            type: 'changeMonth',
                                            date: new Date(newdt.getTime()),
                                            navMode: 'scroll'
                                        });
                                    }
                                }
                            }

                            $('#appt_specialty_select_mobile').change(function () {
                                $('#appt_specialty_select').val($(this).val()).change();
                            });

                            $('#appt_location_select_mobile').change(function () {
                                var location_id = $(this).val();
                                $('.group-wrapper .filter-location-profile').each(function (idx, elem) {
                                    if ($(this).data('location') == location_id) {
                                        $('.filter-location-profile').removeClass(
                                            'profile-selected');
                                        $(this).addClass('profile-selected');
                                        $('.location-wrapper').html($(this).clone());
                                    } else if ($(this).hasClass('profile-selected')) {
                                        $(this).removeClass('profile-selected');
                                    }
                                });
                                $(document).trigger('change-location', [location_id]);
                            });

                            // trigger document event on change specialty.
                            $('#appt_specialty_select').change(function () {
                                if (blockForm) {
                                    blockData.specialty = $(this).val();
                                    current_specialty = $(this).val();
                                    $('.datewidget').datepicker('fill');
                                    return;
                                }
                                $(document).trigger('change-specialty', [$(this).val()]);
                            }).change();

                            $('.filter-location-select-overlay').on('close', function () {
                                $('#appointment_lightbox').off('click.close_overlay');
                                if ($('.filter-location-select-overlay:visible').length) {
                                    $('.filter-location-select-overlay')
                                        .css({
                                            'overflow-y': 'hidden'
                                        });
                                    $('.filter-location-select-overlay .group-wrapper')
                                        .clearQueue()
                                        .animate({
                                                'margin-left': -$(
                                                    '.filter-location-select-overlay .group-wrapper'
                                                ).outerWidth()
                                            },
                                            200,
                                            function () {
                                                $('.filter-location-select-overlay').css({
                                                    'top': '',
                                                    'overflow-y': '',
                                                    'display': '',
                                                    'height': '',
                                                    'position': ''
                                                });
                                                $('.filter-location-select-overlay .group-wrapper')
                                                    .css({
                                                        'width': '',
                                                        'margin-left': '',
                                                        'height': '',
                                                        'overflow-y': '',
                                                        'top': ''
                                                    });
                                            });
                                    if (mobileMode) {
                                        $('.filter-results-bar').hide();
                                    }
                                }
                                return false;
                            });

                            $('.location-wrapper').on('click', function () {
                                if (mobileMode) {
                                    var winwidth = $(document.body).width();
                                    var scrollTop = $(document.body).scrollTop();
                                    var currentoverflow = $('#appointment_lightbox').css('overflow');
                                    var oheight = Math.max($('.filter-location-select-overlay').outerHeight(),
                                        $(window).height());
                                    $('#appointment_lightbox').css({
                                        'height': oheight,
                                        'overflow': 'hidden'
                                    }).scrollTop(scrollTop);
                                    $('.filter-location-select-overlay').css({
                                        'top': scrollTop
                                    });
                                    $('.filter-location-select-overlay .group-wrapper').css({
                                        'margin-left': -winwidth,
                                        'width': '100%',
                                        'height': oheight
                                    });
                                    $('.filter-location-select-overlay').one('close', function () {
                                        $('#appointment_lightbox').off('click.close_overlay');
                                        $('#appointment_lightbox').css({
                                            'height': $('.picker-controls').css(
                                                'position') == 'absolute' ? Math.max(
                                                $('.picker-controls').outerHeight(),
                                                $(window).height()) : '',
                                            'overflow': currentoverflow
                                        });
                                    });

                                    // Ensure the bar is visible in mobile mode
                                    $('.filter-results-bar').show();
                                } else if ($('.picker-results').css('overflow-y') !== 'scroll') {
                                    // full window scroll
                                    $('.filter-location-select-overlay').css({
                                        'position': 'fixed',
                                        'top': 0,
                                        'left': 0,
                                        'height': $(window).height() - ($('html').hasClass(
                                            'lt-ie8') ? 67 : 0), // IE7 Hack
                                        'overflow-y': 'hidden'
                                    });
                                    $('.filter-location-select-overlay .group-wrapper').css({
                                        'width': 261,
                                        'margin-left': -261,
                                        'height': '',
                                        'overflow-y': ''
                                    });
                                } else {
                                    // lightbox internal scroll
                                    $('.filter-location-select-overlay .group-wrapper').css({
                                        'width': 261,
                                        'margin-left': -261,
                                        'height': '',
                                        'overflow-y': ''
                                    });
                                    if ($('html').hasClass('lt-ie8')) {
                                        $('.filter-location-select-overlay').css('height', $(
                                            '#appointment_lightbox').height() - 67);
                                    }
                                }
                                $('.filter-location-select-overlay').show();
                                $('.filter-location-select-overlay .group-wrapper').animate({
                                    'margin-left': 0
                                }, 200, function () {
                                    $('.filter-location-select-overlay').css({
                                        'overflow-y': 'auto'
                                    });
                                    $('#appointment_lightbox').one('click.close_overlay',
                                        function () {
                                            $('.filter-location-select-overlay').trigger(
                                                'close');
                                            return false;
                                        });
                                });
                                return false;
                            });

                            $('.group-wrapper .filter-location-profile').on('click', function () {
                                $('.filter-location-profile').removeClass('profile-selected');
                                $(this).addClass('profile-selected');
                                $('.location-wrapper').html($(this).clone());
                                if (blockForm) {
                                    blockData.location = $(this).data('location');
                                    current_location = blockData.location;
                                    $('.datewidget').datepicker('fill');
                                } else {
                                    $(document).trigger('change-location', [$(this).data('location')]);
                                }
                                $('.filter-location-select-overlay').trigger('close');
                                return false;
                            });

                            $('#appt_specialty_select').change(function () {
                                var specialty = $(this).val();
                                var current_location_id = $(
                                    '.location-wrapper .filter-location-profile').data('location');
                                var force_change = false;
                                $('.group-wrapper .filter-location-profile').each(function (idx, elem) {
                                    // if ($(this).data('location') == 0 ||
                                    //      $(this).data('all-specialties') ||
                                    //      $.inArray(specialty, $(this).data('specialties').split(','))) {
                                    //  $(this).show();
                                    // } else {
                                    if ($(this).data('location') == current_location_id)
                                        force_change = true;
                                    $(this).hide();
                                    // }
                                });
                                if (force_change) {
                                    // select first visible value...
                                    $('.group-wrapper .filter-location-profile:visible:first').click();
                                }
                            });

                            // Choose doctor CTA
                            $('.filter-results-cta').on("click", function (e) {
                                $(this).animate({
                                    opacity: 0
                                }, 200, function () {
                                    $(this).removeClass('visible-cta').hide();
                                    setTimeout(function () {
                                        $("#filter-option-location").stop().css({
                                            "display": "block",
                                            "opacity": 0
                                        }).animate({
                                            opacity: 1
                                        }, 300);
                                    }, 30);
                                });
                            });

                            // custom drop down
                            function DropDown(el) {
                                this.dd = el;
                                this.placeholder = this.dd.find('.selected-filter-option');
                                this.opts = this.dd.find('li');
                                this.val = '';
                                this.relSelect = this.dd.attr("data-relselect");
                                this.relSelectVal = '';
                                this.index = -1;
                                this.initEvents();
                            }
                            DropDown.prototype = {
                                initEvents: function () {
                                    var obj = this;

                                    obj.dd.on('click', function (event) {
                                        var self = $(this);
                                        $('.filter-select-wrap').not(self).removeClass('active')
                                            .find('.filter-select-options').hide();

                                        if (self.hasClass('active')) {
                                            self.removeClass('active').find(
                                                '.filter-select-options').hide();
                                        } else {
                                            self.find('.filter-select-options').stop().css({
                                                "display": "block",
                                                "opacity": 0
                                            }).animate({
                                                opacity: 1
                                            }, 100);
                                            self.addClass('active');
                                        }

                                        return false;
                                    });

                                    obj.opts.on('click', function () {
                                        var opt = $(this);
                                        obj.val = opt.html();
                                        obj.index = opt.index();
                                        obj.placeholder.html(obj.val);
                                        obj.relSelectVal = opt.attr("data-val");

                                        // update selected class
                                        obj.opts.removeClass("selected");
                                        opt.addClass("selected");

                                        // change related select box value
                                        $('#' + obj.relSelect).val(obj.relSelectVal).change();
                                    });
                                },
                                getValue: function () {
                                    return this.val;
                                },
                                getIndex: function () {
                                    return this.index;
                                }
                            }

                            $('.filter-select-wrap').each(function () {
                                var dd = new DropDown($(this));
                            });

                            $(document).click(function (e) {
                                $('.filter-select-wrap').removeClass('active').find(
                                    '.filter-select-options').hide();
                            });




                            $('.picker-controls-mobile-close, .picker-controls-show-appointments-button').click(
                                function () {
                                    $('.picker-controls').trigger('close')
                                });

                            // mobile mode fix top bar height...
                            var FIXED_TOP_HEIGHT = 55;

                            $('#mobile-fixed-top-bar a')
                                .click(function (e) {
                                    if (!mobileMode) return;
                                    show_overlays = false;
                                    blockForm = true;
                                    var pc = $('.picker-controls');
                                    var spacer = $('<div></div>')
                                        .css({
                                            'height': pc.outerHeight()
                                        })
                                        .insertBefore(pc);
                                    $(
                                        '.picker-controls-mobile-close, .picker-controls-show-appointments-bar'
                                    ).show();
                                    prevent_scroll_callbacks = true;
                                    var scrollTop = $(window).scrollTop();
                                    $('.picker-controls').css('height', 'auto'); // change to auto height
                                    var oheight = Math.max($('.picker-controls').outerHeight() + 65, $(
                                        window).height());
                                    $('.picker-controls')
                                        .css({
                                            'position': 'absolute',
                                            'top': $('#appointment_lightbox').scrollTop() - oheight,
                                            'left': 0,
                                            'z-index': 11,
                                            'height': oheight
                                        });

                                    $('#appointment_lightbox')
                                        .css({
                                            'height': Math.max($('.picker-controls').outerHeight(), $(
                                                window).height()),
                                            'overflow': 'hidden'
                                        })
                                        .on('scroll.overlaypos', function () {
                                            $('.picker-controls').css({
                                                'top': $('#appointment_lightbox').scrollTop()
                                            });
                                        })
                                        .scrollTop(scrollTop);

                                    $(window)
                                        .on('resize.overlaypos', function (e) {
                                            $('.picker-controls').css('height', 'auto');
                                            $('.picker-controls, #appointment_lightbox').css({
                                                'height': Math.max($('.picker-controls').outerHeight() +
                                                    65, $(window).height())
                                            });
                                        });

                                    $('.picker-controls')
                                        .one('close', function (e) {
                                            $('#appointment_lightbox').off('scroll.overlaypos');
                                            $(window).off('resize.overlaypos');
                                            if (blockData.date) {
                                                setCalendarDate(blockData.date);
                                                $('#appointment_lightbox').trigger('scroll-to-date', [
                                                    blockData.date, true
                                                ]);
                                            }
                                            if (blockData.specialty) {
                                                $(document).trigger('change-specialty', [blockData.specialty]);
                                            }
                                            if (blockData.location !== null) {
                                                $(document).trigger('change-location', [blockData.location]);
                                            }
                                            blockData = {};
                                            $('.picker-controls')
                                                .css({
                                                    'height': $(document.body).height(),
                                                    'overflow': 'hidden'
                                                })
                                                .clearQueue().animate({
                                                    'top': $('#appointment_lightbox').scrollTop() -
                                                        $('.picker-controls').outerHeight()
                                                }, function () {
                                                    spacer.remove();
                                                    $(
                                                        '.picker-controls-mobile-close, .picker-controls-show-appointments-bar'
                                                    ).hide();
                                                    var small = $(window).height() < 768;
                                                    $('.picker-controls').css({
                                                        'position': '',
                                                        'top': '',
                                                        'left': '',
                                                        'z-index': '',
                                                        'height': small ? FIXED_TOP_HEIGHT :
                                                            '',
                                                        'overflow': small ? 'hidden' : 'visible',
                                                        'padding-bottom': small ? 0 : ''
                                                    });
                                                    var scrollto = $('#appointment_lightbox').scrollTop();
                                                    $('#appointment_lightbox').css({
                                                        'height': '',
                                                        'overflow': ''
                                                    }).scrollTop(0);
                                                    $(window).scrollTop(scrollto);
                                                    prevent_scroll_callbacks = false;
                                                    show_overlays = true;
                                                    blockForm = false;
                                                    $(window).scroll();
                                                });
                                        })
                                        .animate({
                                            'top': scrollTop
                                        });
                                    return false;
                                });


                            $(window).resize(function (e, init) {
                                var width = window.innerWidth || document.documentElement.clientWidth ||
                                    document.body.clientWidth; // $('#appointment_lightbox').width();
                                var isDesktop = !mobileMode && width > 600;

                                if (isDesktop) {
                                    if (!$(".filter-only-location").length) {
                                        FIXED_TOP_HEIGHT = 75;
                                    }
                                    $("#mobile-fixed-date-bar").css({
                                        "margin-top": FIXED_TOP_HEIGHT
                                    });
                                } else {
                                    FIXED_TOP_HEIGHT = 55;
                                }

                                if ($('html').hasClass('lt-ie8')) {
                                    //ie 7 widget hacks
                                    if ($('#appointment_lightbox').hasClass('prac-appt-lightbox')) {
                                        $('.picker-results').width($('#appointment_lightbox').width() -
                                            260);
                                    } else {
                                        $('.picker-results').width(width - 260);
                                    }
                                }

                                if (!mobileMode && width <= 600 && !$('html').hasClass('lt-ie9')) {

                                    mobileMode = true;

                                    var current_date_top = -1;
                                    var show_overlays = true;

                                    $('#appointment_lightbox').addClass('responsive-narrow-mode');

                                    // remove fixed panels...
                                    $('#mobile-fixed-date-bar, #mobile-fixed-more-bar').remove();

                                    if ($(window).height() < 768) {
                                        // show bar if going into compact mode...
                                        $('#mobile-fixed-top-bar').show();
                                    }

                                    // add in document width stuff...
                                    $(
                                        '<div id="mobile-fixed-date-bar" class="mobile-fixed-date-bar-small"></div>'
                                    ).css('top', FIXED_TOP_HEIGHT + 'px').appendTo(
                                        '#appointment_lightbox');
                                    $(
                                            '<div id="mobile-fixed-more-bar"><div class="background"><span class="icon-white icon-chevron-down"></span> More Appointments <span class="icon-white icon-chevron-down"></span></div></div>'
                                        )
                                        .appendTo('#appointment_lightbox')
                                        .click(function (e) {
                                            $(document.body).animate({
                                                'scrollTop': $(window).scrollTop() + $(
                                                    window).height()
                                            }, 'fast');
                                        });

                                    $('div.scroll-overlay').hide();

                                    $(window).on('scroll.mobileMode', function (e) {
                                        // console.log("Scroll Mobile", $(window).scrollTop(), show_overlays);

                                        //scroll: mobile

                                        if (!show_overlays) {
                                            $(
                                                '#mobile-fixed-top-bar:visible, #mobile-fixed-date-bar:visible, #mobile-fixed-more-bar:visible'
                                            ).hide();
                                            return;
                                        }

                                        if (prevent_scroll_callbacks === true) {
                                            return;
                                        }

                                        var top_panel_height = $('.picker-controls').outerHeight();

                                        var top = $(window).scrollTop();
                                        if (top >= top_panel_height - FIXED_TOP_HEIGHT || $(
                                                window).height() < 768) {
                                            $('#mobile-fixed-top-bar:hidden').show();
                                        } else {
                                            $(
                                                '#mobile-fixed-top-bar:visible, #mobile-fixed-date-bar:visible'
                                            ).hide();
                                            return;
                                        }
                                        var prevtop = 0,
                                            prevdate = null,
                                            nexttop = 0,
                                            nextdate = null;
                                        $('div.picker-results-day').each(function (idx, elem) {
                                            var daytop = $(this).offset().top;
                                            if (daytop > top + FIXED_TOP_HEIGHT) {
                                                nextdate = this;
                                                nexttop = daytop;
                                                return false;
                                            }
                                            prevtop = daytop;
                                            prevdate = this;
                                        });

                                        var fixeddatebar = $('#mobile-fixed-date-bar');
                                        if (prevtop != current_date_top) {
                                            current_date_top = prevtop;
                                            fixeddatebar.html($(prevdate).find(
                                                '.picker-results-date').clone())
                                        }
                                        var fdb_height = $(prevdate).find(
                                            '.picker-results-date').outerHeight();
                                        fixeddatebar.css({
                                            top: (nexttop - top > FIXED_TOP_HEIGHT &&
                                                nexttop - top < fdb_height +
                                                FIXED_TOP_HEIGHT ? (nexttop - top -
                                                    fdb_height) : FIXED_TOP_HEIGHT),
                                            display: 'block'
                                        });

                                        var caldate = (nexttop - top > FIXED_TOP_HEIGHT &&
                                            nexttop - top < fdb_height + FIXED_TOP_HEIGHT ?
                                            nextdate : prevdate);
                                        if (caldate) {
                                            setCalendarDate(caldate.id.substring(12));
                                        }

                                        // bottom bar show hide...
                                        if (top + $(window).height() >= $(document.body).prop(
                                                'scrollHeight')) {
                                            $('#mobile-fixed-more-bar:visible').hide();
                                        } else {
                                            $('#mobile-fixed-more-bar:hidden').show();
                                        }

                                    }).scroll();

                                    $('#appointment_lightbox').off('scroll-to-date.desktop');
                                    $('#appointment_lightbox').on('scroll-to-date.mobileMode', function (
                                        e, dt, force) {
                                        var dtstring = dt.getUTCFullYear() + '-' + (dt.getUTCMonth() <
                                                9 ? '0' : '') + (dt.getUTCMonth() + 1) + '-' +
                                            (dt.getUTCDate() < 10 ? '0' : '') + (dt.getUTCDate());
                                        var show = $('.picker-results #picker-date-' + dtstring);
                                        if (show.length) {
                                            var scrollto = Math.ceil(show.offset().top) -
                                                FIXED_TOP_HEIGHT;
                                            var scrolltoheight = show.outerHeight();
                                            var scrollerheight = $('.picker-results').height();
                                            if (scrollto != 0) {
                                                // scroll date into view...
                                                prevent_scroll_callbacks = true;
                                                $('#mobile-fixed-date-bar').html('');
                                                prevtop = -1;
                                                var scroller = !show_overlays ? $(
                                                    '#appointment_lightbox') : $(
                                                    'html,body');
                                                if (!show_overlays) scrollto += scroller.scrollTop();
                                                if (!force) {
                                                    scroller.animate({
                                                        'scrollTop': scrollto + $(
                                                            '.picker-results').scrollTop()
                                                    }, 'fast', function () {
                                                        // delay to fire after all the scroll events..
                                                        window.setTimeout(function () {
                                                            prevent_scroll_callbacks
                                                                = false;
                                                            $(document.body).trigger(
                                                                'scroll', [
                                                                    true
                                                                ]);
                                                        }, 100);
                                                    });
                                                } else {
                                                    // if force just go there...
                                                    scroller.scrollTop(scrollto + $(
                                                        '.picker-results').scrollTop());
                                                    window.setTimeout(function () {
                                                        prevent_scroll_callbacks =
                                                            false;
                                                        $(window).trigger('scroll', [
                                                            true
                                                        ]);
                                                    }, 100);
                                                }
                                            }
                                        }
                                        return false;
                                    });

                                } else if (init || (mobileMode && width > 600)) {
                                    mobileMode = false;

                                    $('#appointment_lightbox').removeClass('responsive-narrow-mode');
                                    // resize picker
                                    $('.picker-controls').css({
                                        'height': '',
                                        'overflow': '',
                                        'padding-bottom': ''
                                    });
                                    // remove scroll event
                                    $(window).off('scroll.mobileMode');
                                    $(window).off('scroll.desktopMode');
                                    $('.picker-results').off('scroll.lightbox');
                                    // remove fixed panels...
                                    $('#mobile-fixed-top-bar').hide();
                                    $('#mobile-fixed-date-bar, #mobile-fixed-more-bar').remove();

                                    // hide show fixed date header and footer in scrolling appts
                                    var prevtop = -1;
                                    if ($('.picker-results').css('overflow-y') === 'scroll') {
                                        // Lightbox inline mode...
                                        $('.picker-results').on('scroll.lightbox', function (e,
                                            noupdate) {

                                            //scroll: modal
                                            if ($(".filter-no-options").length) {
                                                FIXED_TOP_HEIGHT = 0
                                            }

                                            if (prevent_scroll_callbacks === true) {
                                                return;
                                            }
                                            stop = $(this).scrollTop();
                                            if (stop > 0) {
                                                //if (prevtop > 0) return;
                                                var current = null;
                                                var ptop = 0;
                                                var nexttop = -1;
                                                var next = null;
                                                $(this).find('.picker-results-day').each(
                                                    function (idx, elem) {
                                                        var newtop = $(this).position().top;
                                                        if (Math.ceil(newtop) >
                                                            FIXED_TOP_HEIGHT) {
                                                            nexttop = Math.ceil(newtop);
                                                            next = this;
                                                            return false;
                                                        }
                                                        ptop = newtop + stop;
                                                        current = this;
                                                    });
                                                var fhh = Math.floor($(current).find(
                                                        'div.picker-results-date:first').outerHeight()) +
                                                    FIXED_TOP_HEIGHT;

                                                if (ptop != prevtop) {
                                                    $(this).find('.fixed-header').remove();
                                                    prevtop = ptop;
                                                    fixed = $(current).find(
                                                        'div.picker-results-date:first').clone();
                                                    fixed.css({
                                                        'position': 'absolute',
                                                        'z-index': 10,
                                                        'top': (nexttop >= 0 && nexttop <=
                                                            fhh ? nexttop - fhh : 0
                                                        ),
                                                        'margin-top': FIXED_TOP_HEIGHT,
                                                        'width': $(current).width()
                                                    });
                                                    fixed.addClass('fixed-header');
                                                    $(current).before(fixed);
                                                    if (noupdate !== true) setCalendarDate((
                                                        nexttop >= 0 && nexttop <= fhh ?
                                                        next : current).id.substring(12));
                                                } else {
                                                    if (nexttop - FIXED_TOP_HEIGHT >= 0 &&
                                                        nexttop <= fhh) {
                                                        $(this).find('.fixed-header').css('top',
                                                            nexttop - fhh);
                                                        if (noupdate !== true) setCalendarDate(
                                                            next.id.substring(12));
                                                    } else {
                                                        $(this).find('.fixed-header').css({
                                                            'top': 0,
                                                            'margin-top': FIXED_TOP_HEIGHT
                                                        });
                                                        if (noupdate !== true) setCalendarDate(
                                                            current.id.substring(12));
                                                    }
                                                }
                                            } else {
                                                prevtop = -1;
                                                $(this).find('.fixed-header').remove();
                                                if (noupdate !== true) setCalendarDate($(this).find(
                                                    '.picker-results-day:first')[0].id.substring(
                                                    12));
                                            }

                                            if ($('.picker-results').prop('scrollHeight') -
                                                FIXED_TOP_HEIGHT > $('.picker-results').height() +
                                                $('.picker-results').scrollTop() + 50) {
                                                $('.scroll-overlay.bottom').clearQueue().animate({
                                                    'bottom': 0
                                                });
                                            } else {
                                                $('.scroll-overlay.bottom').clearQueue().animate({
                                                    'height': 0,
                                                    'padding': 0
                                                });
                                            }

                                        });


                                        $('.scroll-overlay.bottom').click(function (e) {
                                            $('.picker-results').clearQueue().animate({
                                                'scrollTop': $('.picker-results').scrollTop() +
                                                    $('.picker-results').height()
                                            });
                                        });

                                    } else {
                                        // full window mode

                                        $(
                                            '<div id="mobile-fixed-date-bar" class="mobile-fixed-date-bar-big"></div>'
                                        ).appendTo('#appointment_lightbox');
                                        $(
                                                '<div id="mobile-fixed-more-bar" class="mobile-fixed-more-bar-big"><div class="background"><span class="icon-white icon-chevron-down"></span> More Appointments <span class="icon-white icon-chevron-down"></span></div></div>'
                                            )
                                            .appendTo('#appointment_lightbox')
                                            .click(function (e) {
                                                $('html,body').animate({
                                                    'scrollTop': $(window).scrollTop() + $(
                                                        window).height()
                                                }, 'fast');
                                            });

                                        var current_date_top = -1;

                                        $(window).on('scroll.desktopMode', function (e, noupdate) {

                                            //scroll: desktop
                                            if ($(".filter-no-options").length) {
                                                FIXED_TOP_HEIGHT = 0
                                            }

                                            if (prevent_scroll_callbacks === true) {
                                                return;
                                            }
                                            var top_panel_height = $('.picker-controls').outerHeight();

                                            var top = $(window).scrollTop();
                                            var prevtop = 0,
                                                prevdate = null,
                                                nexttop = 0,
                                                nextdate = null;
                                            $('div.picker-results-day').each(function (idx,
                                                elem) {
                                                var daytop = $(this).offset().top;
                                                if (daytop > top + FIXED_TOP_HEIGHT) {
                                                    nextdate = this;
                                                    nexttop = daytop;
                                                    return false;
                                                }
                                                prevtop = daytop;
                                                prevdate = this;
                                            });

                                            var fixeddatebar = $('#mobile-fixed-date-bar');
                                            if (prevtop != current_date_top) {
                                                current_date_top = prevtop;
                                                fixeddatebar.html($(prevdate).find(
                                                    '.picker-results-date').clone())
                                            }
                                            var fdb_height = $(prevdate).find(
                                                    '.picker-results-date').outerHeight() +
                                                FIXED_TOP_HEIGHT;
                                            fixeddatebar.css({
                                                top: (nexttop - top > 0 && nexttop -
                                                    top < fdb_height ? (nexttop -
                                                        top - fdb_height) : 0),
                                                'margin-top': FIXED_TOP_HEIGHT,
                                                display: 'block'
                                            });

                                            var caldate = (nexttop - top > 0 && nexttop - top <
                                                fdb_height ? nextdate : prevdate);
                                            if (caldate && !noupdate) {
                                                setCalendarDate(caldate.id.substring(12));
                                            }

                                            if (top + $(window).height() >= $(document.body).prop(
                                                    'scrollHeight')) {
                                                $('#mobile-fixed-more-bar:visible').hide();
                                            } else {
                                                $('#mobile-fixed-more-bar:hidden').show();
                                            }
                                        }).scroll();
                                    }
                                    $('#appointment_lightbox').off('scroll-to-date.mobileMode');
                                    $('#appointment_lightbox').on('scroll-to-date.desktop', function (e,
                                        dt, force) {
                                        if (!force && prevent_scroll_callbacks === true) return;
                                        var dtstring = dt.getUTCFullYear() + '-' + (dt.getUTCMonth() <
                                                9 ? '0' : '') + (dt.getUTCMonth() + 1) + '-' +
                                            (dt.getUTCDate() < 10 ? '0' : '') + (dt.getUTCDate());
                                        var show = $('.picker-results #picker-date-' + dtstring);
                                        if (show.length) {
                                            var scrollto = Math.ceil(show.position().top) -
                                                FIXED_TOP_HEIGHT;
                                            var scrolltoheight = show.outerHeight();
                                            var scrollerheight = $('.picker-results').height();
                                            // scroll date into view...
                                            prevent_scroll_callbacks = true;
                                            $('.picker-results .fixed-header').remove();
                                            prevtop = -1;
                                            var scroller;
                                            if ($('.picker-results').css('overflow-y') ===
                                                'scroll') {
                                                scroller = $('.picker-results');
                                                scrollto += scroller.scrollTop();
                                            } else {
                                                scroller = $('body,html');
                                            }
                                            scroller.clearQueue().animate({
                                                'scrollTop': scrollto
                                            }, 'fast', function () {
                                                // delay to fire after all the scroll events..
                                                window.setTimeout(function () {
                                                    prevent_scroll_callbacks =
                                                        false;
                                                    scroller.trigger('scroll',
                                                        [true]);
                                                }, 100);
                                            });
                                        }
                                        return false;
                                    });
                                }

                                if (!mobileMode) {
                                    $('.picker-results .fixed-header, .scroll-overlay.bottom').width($(
                                        '.picker-results .picker-results-day:first').width());
                                    if ($('.picker-results').prop('scrollHeight') - FIXED_TOP_HEIGHT >
                                        $('.picker-results').height() + $('.picker-results').scrollTop() +
                                        50) {
                                        $('.scroll-overlay.bottom').clearQueue().animate({
                                            'bottom': 0
                                        });
                                    } else {
                                        $('.scroll-overlay.bottom').clearQueue().animate({
                                            'height': 0,
                                            'padding': 0
                                        });
                                    }
                                    $('.filter-location-select-overlay').trigger('close');

                                }

                                if (mobileMode) {
                                    if ($(window).height() < 768 && $('.picker-controls').outerHeight() >
                                        FIXED_TOP_HEIGHT) {
                                        $('.picker-controls').css({
                                            'height': FIXED_TOP_HEIGHT,
                                            'overflow': 'hidden',
                                            'padding-bottom': 0
                                        });
                                    } else if ($(window).height() >= 768 && $('.picker-controls').outerHeight() <=
                                        FIXED_TOP_HEIGHT) {
                                        $('.picker-controls').css({
                                            'height': '',
                                            'overflow': '',
                                            'padding-bottom': ''
                                        });
                                    }
                                    $(document.body).scroll();
                                }

                                if ($(window).height() < 500 && !mobileMode && !$('html').hasClass(
                                        'lt-ie9')) {
                                    $('.filter-calendar-button button span.date-button').html($(
                                        '.datewidget').datepicker('getFormattedDate',
                                        'd MM yyyy'));
                                    $('.filter-calendar').hide();
                                    $('.filter-calendar-button').show();
                                } else {
                                    $('.filter-calendar').show();
                                    $('.filter-calendar-button').hide();
                                }


                            }).trigger('resize', [true]);

                            $('.filter-calendar-button').click(function (e) {
                                $('.filter-calendar').css({
                                    'position': 'absolute',
                                    'display': 'block',
                                    'background-color': '#eeecf0',
                                    'z-index': '11',
                                    'top': $('.filter-calendar-button').position().top,
                                    'left': '-240px',
                                    'height': $(window).height() - $('.filter-calendar-button')
                                        .position().top
                                }).animate({
                                    'left': 20
                                }, 'slow');
                                $(document).one('click.hide_calendar', function () {
                                    $('.filter-calendar').animate({
                                        'left': -240
                                    }, 'slow', function (e) {
                                        $('.filter-calendar').css({
                                            'position': '',
                                            'display': 'none',
                                            'background-color': '',
                                            'z-index': '',
                                            'top': '',
                                            'left': '',
                                            'height': ''
                                        });
                                    });
                                });
                                return false;
                            });

                            $(document).trigger('loaded-data');
                            window.setTimeout(function () {
                                setCalendarDate(firstApptDate);
                                $('#appointment_lightbox').trigger('scroll-to-date', [firstApptDate,
                                    true
                                ]);
                            }, 300);

                            function getUrlVars() {
                                var vars = [],
                                    hash;
                                var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split(
                                    '&');
                                for (var i = 0; i < hashes.length; i++) {
                                    hash = hashes[i].split('=');
                                    vars.push(hash[0]);
                                    vars[hash[0]] = hash[1];
                                }
                                return vars;
                            }

                            (function (urlVars) {

                                var specialty = urlVars['specialty'] || urlVars['procedure'];
                                var $specialty_select = $('#appt_specialty_select');
                                if (typeof specialty !== 'undefined' && (specialty = decodeURIComponent(
                                        specialty)) && $specialty_select.find('option[value="' + specialty +
                                        '"]').length > 0) {
                                    $specialty_select.val(specialty).change();
                                }

                                var location = urlVars['location'] || urlVars['grp_loc_id'];
                                var $location_select = $('#appt_location_select_mobile');
                                if (typeof location !== 'undefined' && (location = decodeURIComponent(
                                        location)) && parseInt(location) != 0 && $location_select.find(
                                        'option[value="' + location + '"]').length > 0) {
                                    $location_select.val(location).change();
                                }

                            })(getUrlVars());

                        });
                    </script>
                </div>

            </div>
        </div>

    </div>
    <div id="floating-appts-area" class="practitioner-profile stick" style="">

    </div>

    <script>
        (function () {
            var floatingApptsArea = $('#floating-appts-area');
            var mobileApptsArea = $('<div id="mobile-appts-area"></div>');
            var mobileHeaderDetails = $('.mobile-header-details');
            var noAppointmentsWrapper = $('.no-appointments-wrapper');

            if ($('.appointments-preview').length) {
                mobileApptsArea.insertAfter('#panelMain .container .profile-header-wrapper');

                $(window).resize(function () {
                    var isDesktop = floatingApptsArea.is(":visible");

                    if (isDesktop) {
                        if (!$('.appointments-preview').parent('#floating-appts-area').length) {
                            $('.appointments-preview').detach().appendTo('#floating-appts-area');
                        }
                    } else {
                        if (!$('.appointments-preview').parent('#mobile-appts-area').length) {
                            $('.appointments-preview').detach().appendTo('#mobile-appts-area');
                        }
                    }
                }).resize();
            }

            if (noAppointmentsWrapper.length === 1) {
                mobileHeaderDetails.after(mobileApptsArea);

                $(window).resize(function () {
                    var isDesktop = floatingApptsArea.is(":visible");

                    if (isDesktop) {
                        if (!noAppointmentsWrapper.parent('#floating-appts-area').length) {
                            noAppointmentsWrapper.detach().appendTo(floatingApptsArea);
                        }
                    } else {
                        if (!noAppointmentsWrapper.parent('#mobile-appts-area').length) {
                            noAppointmentsWrapper.detach().appendTo(mobileApptsArea);
                        }
                    }

                }).resize();
            }
        })();
    </script>

    <footer id="footer" class="row full-width he-blue-bg">
        <div class="span12 footer">
            <div class="footer-column clearfix">
                <p class="footer-heading">HealthEngine</p>
                <ul>
                    <li><a href="http://support.healthengine.com.au/" target="_blank" rel="noopener noreferrer">Contact
                            Us</a></li>
                    <li><a href="https://about.healthengine.com.au/" target="_blank" rel="noopener noreferrer">About Us</a></li>
                    <li><a href="https://practices.healthengine.com.au/?pracsource=footer-prac-services">Practice
                            Services</a></li>
                    <li><a href="http://blog.healthengine.com.au" target="_blank" rel="noopener noreferrer">Blog</a></li>
                    <li><a href="/press/">Press Centre</a></li>
                    <li><a href="http://careers.healthengine.com.au/?utm_source=healthengine&amp;utm_medium=footerlink&amp;utm_campaign=healthenginefooter">Careers</a></li>
                    <li><a href="/info/">Health Articles</a></li>
                    <li><a href="/app/">Mobile App</a></li>
                </ul>
            </div>
            <div class="footer-column clearfix">
                <p class="footer-heading">Appointments</p>
                <ul>
                    <li><a href="/appointments/gp/">GP Appointments</a></li>
                    <li><a href="/appointments/after-hours/gp/">After Hours GP Appointments</a></li>
                    <li><a href="/appointments/bulk-billing-gp/">Bulk Billing GP Appointments</a></li>
                    <li><a href="/appointments/dentist/">Dentist Appointments</a></li>
                    <li><a href="/appointments/physiotherapist/">Physiotherapist Appointments</a></li>
                    <li><a href="/appointments/chiropractor/">Chiropractor Appointments</a></li>
                    <li><a href="/appointments/psychologist/">Psychologist Appointments</a></li>
                    <li><a href="https://practices.healthengine.com.au/?pracsource=footer-list-appointments">List Your
                            Appointments</a></li>
                    <li><a class="cancel-appts-link" href="https://support.healthengine.com.au/hc/en-us/articles/210618263-How-can-I-cancel-an-appointment-I-booked-online-"
                            target="_blank" rel="noopener noreferrer">Cancel Appointment</a></li>
                </ul>
            </div>
            <div class="footer-column clearfix">
                <p class="footer-heading">Directory</p>
                <ul>
                    <li><a href="/findapractitioner.php">Find a Practitioner</a></li>
                    <li><a href="https://practices.healthengine.com.au/claim-your-profile/?pracsource=footer-list-practice">List
                            Your Practice</a></li>
                    <li><a href="/find/dentist/Near-Me/">Find a Dentist</a></li>
                    <li><a href="https://privacy.healthengine.com.au/">Privacy and Security</a></li>
                </ul>
            </div>
            <div class="footer-column clearfix">
                <p class="footer-heading hidden-phone">Login</p>
                <ul class="hidden-phone">
                    <li><a class="he-footer-practice-login prac-login btn btn-primary" href="/appointment/admin/">Practice
                            Login</a></li>
                </ul>
            </div>
            <div class="right-block">
                <div>© 2019 HealthEngine</div>
                <div><a href="/terms.php">Terms of Use</a> | <a href="/privacy.php">Privacy Policy</a></div>
                <div>
                    <a href="http://www.twitter.com/healthengine" target="_blank" rel="noopener noreferrer"><img src="https://healthengine.imgix.net/public/images/twitter-icon.png?auto=compress&amp;ixlib=php-2.1.0&amp;or=0"
                            alt="Twitter"></a>
                    <a href="http://www.facebook.com/healthengine" target="_blank" rel="noopener noreferrer"><img src="https://healthengine.imgix.net/public/images/facebook-icon.png?auto=compress&amp;ixlib=php-2.1.0&amp;or=0"
                            alt="Facebook"></a>
                    <a href="http://www.linkedin.com/company/healthengine" target="_blank" rel="noopener noreferrer"><img
                            src="https://healthengine.imgix.net/public/images/linkedin-icon.png?auto=compress&amp;ixlib=php-2.1.0&amp;or=0"
                            alt="LinkedIn"></a>
                </div>
                <div class="app-btns-footer">
                    <a class="btn-app-store" href="https://he.app.link/LSkc7hD72T" target="_blank" rel="noopener noreferrer"><img
                            src="https://healthengine.imgix.net/public/images/app-store-badge_20181015005910.svg?auto=compress&amp;ixlib=php-2.1.0&amp;or=0"></a>
                    <a class="btn-play-store" href="https://he.app.link/P9gz29172T" target="_blank" rel="noopener noreferrer"><img
                            src="https://healthengine.imgix.net/public/images/google-play-badge_20181015005644.svg?auto=compress&amp;ixlib=php-2.1.0&amp;or=0"></a>
                </div>
            </div>
        </div>
    </footer>
</div>